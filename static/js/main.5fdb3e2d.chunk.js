(this["webpackJsonpgoogle-forms-test"]=this["webpackJsonpgoogle-forms-test"]||[]).push([[0],{105:function(t,n){},284:function(t,n){},286:function(t,n){},296:function(t,n){},298:function(t,n){},324:function(t,n){},326:function(t,n){},327:function(t,n){},332:function(t,n){},334:function(t,n){},353:function(t,n){},365:function(t,n){},368:function(t,n){},433:function(t,n){},449:function(t,n,e){"use strict";e.r(n);var c=e(7),i=e(0),a=e.n(i),o=e(212),r=e.n(o),l=e(213),s=e(44),u=e(214),j=e(453),d=e(452),h=e(215),f=e(109),b=e.n(f),O=e(216),v=e.n(O),g=e(218),x=e(217),m=function t(n,e,c,i){Object(x.a)(this,t),this.date=void 0,this.firstname=void 0,this.lastname=void 0,this.email=void 0,this.date=n,this.firstname=e,this.lastname=c,this.email=i};function p(){var t=Object(u.a)(["\n\ttext-align: center;\n"]);return p=function(){return t},t}var y=Object(g.a)(j.a)(p());var w=function(){var t=Object(i.useState)(),n=Object(s.a)(t,2),e=n[0],a=n[1],o=Object(i.useState)([]),r=Object(s.a)(o,2),u=r[0],f=r[1],O=Object(i.useState)(-1),g=Object(s.a)(O,2),x=g[0],p=g[1],w=Object(i.useState)(function(t){var n=t.getFullYear().toString(),e=(t.getMonth()+1).toString();1===e.length&&(e="0".concat(e));var c=t.getDate().toString();return 1===c.length&&(c="0".concat(c)),"".concat(n,"-").concat(e,"-").concat(c)}(new Date)),S=Object(s.a)(w,2),D=S[0],I=S[1],C=Object(i.useState)(!0),E=Object(s.a)(C,2),_=E[0],A=E[1];Object(i.useEffect)((function(){a(new h.GoogleSpreadsheet("1OEry52CfvOobIL9hjQGPOCl0ncIMF_KHrtY4glougLE"))}),[]),Object(i.useEffect)((function(){e&&(e.useApiKey("AIzaSyCOrD6IBVG0UHiFANoaHMStiZXN8bYsqV8"),e.loadInfo().then((function(t){var n=null===e||void 0===e?void 0:e.sheetsByIndex[0];null===n||void 0===n||n.getRows().then((function(t){var n=t.map((function(t){var n=t._rawData[0],e=t._rawData[1],c=t._rawData[2],i=t._rawData[3];return new m(n,e,c,i)}));f(n),A(!1)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)})))}),[e]);var M=function(t){var n=b()(D),e=n.day(),c=23;5===e||6===e?c=17:0===e&&(c=12);var i,a=t.filter((function(t){var e=b()(t.date),i=e.hour();return e.isSame(n,"day")&&i>=c})),o=[],r=Object(l.a)(a);try{var s=function(){var t=i.value;o.find((function(n){return n.email===t.email}))||o.push(t)};for(r.s();!(i=r.n()).done;)s()}catch(u){r.e(u)}finally{r.f()}return o},N=M(u),k=null===N||void 0===N?void 0:N.map((function(t){return Object(c.jsxs)("li",{children:[t.email,";"]},t.email)})),B=-1!==x?N[x]:null,F="".concat(null===B||void 0===B?void 0:B.firstname," ").concat(null===B||void 0===B?void 0:B.lastname),G="".concat(null===B||void 0===B?void 0:B.email),H=(null===u||void 0===u?void 0:u.length)>0?Object(c.jsx)("button",{onClick:function(){var t=M(u),n=v.a.int(0,(null===t||void 0===t?void 0:t.length)-1);console.log(n),p(n)},style:{width:"50%",height:"5em"},children:"Randomly select winner"}):Object(c.jsx)("h1",{children:"No entries yet!"}),L=_?Object(c.jsx)("h2",{children:"Loading, please wait"}):H;return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(d.a,{children:Object(c.jsxs)(y,{children:[Object(c.jsx)("h3",{children:"Date Override"}),Object(c.jsx)("p",{children:Object(c.jsx)("input",{type:"date",style:{width:"200px"},value:D,onChange:function(t){I(t.target.value)}})})]})}),Object(c.jsx)(d.a,{children:Object(c.jsx)(y,{span:24,children:L})}),B&&Object(c.jsxs)("div",{style:{color:"red"},children:[Object(c.jsx)(d.a,{children:Object(c.jsx)(y,{span:24,children:Object(c.jsx)("h1",{children:"Winner:"})})}),Object(c.jsx)(d.a,{children:Object(c.jsx)(y,{span:24,children:Object(c.jsx)("h3",{children:"".concat(F,", ").concat(G)})})})]}),Object(c.jsx)(d.a,{children:Object(c.jsx)(j.a,{span:24,children:Object(c.jsx)("ol",{children:k})})})]})};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root"))}},[[449,1,2]]]);
//# sourceMappingURL=main.5fdb3e2d.chunk.js.map