{"version":3,"sources":["Models/Reponse.ts","App.tsx","index.tsx"],"names":["RedBowlResponse","date","firstname","lastname","email","this","CenteredCol","styled","Col","App","useState","doc","setDoc","responses","setResponses","winnerIndex","setWinnerIndex","useEffect","GoogleSpreadsheet","useApiKey","loadInfo","then","response","sheet","sheetsByIndex","getRows","rows","deduped","dedupedResponses","find","r","push","dedupeResponses","map","_rawData","catch","error","console","log","responseList","winner","winnerName","winnerEmail","className","span","length","onClick","randomIndex","Math","floor","random","style","width","height","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"meAAaA,EAET,WAAYC,EAAYC,EAAmBC,EAAkBC,GAAgB,yBAO7EH,UAP4E,OAQ5EC,eAR4E,OAS5EC,cAT4E,OAU5EC,WAV4E,EACxEC,KAAKJ,KAAOA,EACZI,KAAKH,UAAYA,EACjBG,KAAKF,SAAWA,EAChBE,KAAKD,MAAQA,G,yHCArB,IAgBME,EAAcC,YAAOC,IAAPD,CAAH,KAwGFE,MApGf,WAAgB,IAAD,EAEQC,qBAFR,mBAEPC,EAFO,KAEFC,EAFE,OAGoBF,mBAA4B,IAHhD,mBAGPG,EAHO,KAGIC,EAHJ,OAIwBJ,oBAAkB,GAJ1C,mBAIPK,EAJO,KAIMC,EAJN,KAMdC,qBAAU,WACTL,EAAO,IAAIM,oBAAkB,mDAC3B,IAEHD,qBAAU,WACLN,IACHA,EAAIQ,UAAU,2CAEdR,EAAIS,WACFC,MAAK,SAACC,GACN,IAAMC,EAAK,OAAGZ,QAAH,IAAGA,OAAH,EAAGA,EAAKa,cAAc,GAC5B,OAALD,QAAK,IAALA,KAAOE,UACLJ,MAAK,SAACK,GACN,IAUMC,EAjDW,SAACd,GACxB,IAD4E,EACtEe,EAAsC,GADgC,cAGrDf,GAHqD,yBAGjES,EAHiE,QAIlDM,EAAiBC,MAAK,SAACC,GAC/C,OAAOA,EAAE1B,QAAUkB,EAASlB,UAI5BwB,EAAiBG,KAAKT,IANxB,2BAAmC,IAHyC,8BAa5E,OAAOM,EAoCeI,CAVQN,EAAKO,KAAI,SAACH,GACjC,IAAM7B,EAAO6B,EAAEI,SAAS,GAClBhC,EAAY4B,EAAEI,SAAS,GACvB/B,EAAW2B,EAAEI,SAAS,GACtB9B,EAAQ0B,EAAEI,SAAS,GAGzB,OAFuB,IAAIlC,EAAgBC,EAAMC,EAAWC,EAAUC,OAMvEU,EAAaa,MACXQ,OAAM,SAACC,GACTC,QAAQC,IAAIF,SAEZD,OAAM,SAACC,GACTC,QAAQC,IAAIF,SAGb,CAACzB,IAEJ,IAMM4B,EAAY,OAAG1B,QAAH,IAAGA,OAAH,EAAGA,EAAWoB,KAAI,SAACX,GACpC,OAAO,+BACLA,EAASlB,MADJ,MAASkB,EAASlB,UAKpBoC,GAA0B,IAAjBzB,EAAqBF,EAAUE,GAAe,KACvD0B,EAAU,iBAAMD,QAAN,IAAMA,OAAN,EAAMA,EAAQtC,UAAd,mBAA2BsC,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAQrC,UAC7CuC,EAAW,iBAAMF,QAAN,IAAMA,OAAN,EAAMA,EAAQpC,OAE/B,OACC,sBAAKuC,UAAU,MAAf,UACC,cAAC,IAAD,UACC,cAACrC,EAAD,CAAasC,KAAM,GAAnB,UAEW,OAAT/B,QAAS,IAATA,OAAA,EAAAA,EAAWgC,QAAS,GACpB,wBACCC,QAvBuB,WAC5B,IAAMC,EAAcC,KAAKC,MAAMD,KAAKE,SAAWrC,EAAUgC,QACzDR,QAAQC,IAAIS,GACZ/B,EAAe+B,IAqBVI,MAAO,CACNC,MAAO,MACPC,OAAQ,OAJV,wCAaFb,GACA,qCACC,cAAC,IAAD,UACC,cAAClC,EAAD,CAAasC,KAAM,GAAnB,SACC,6CAGF,cAAC,IAAD,UACC,cAACtC,EAAD,CAAasC,KAAM,GAAnB,SACC,uCAAQH,EAAR,aAAuBC,YAK3B,cAAC,IAAD,UACC,cAAC,IAAD,CAAKE,KAAM,GAAX,SACC,6BACEL,YClHPe,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,EAAD,MAEDC,SAASC,eAAe,W","file":"static/js/main.60fa7eda.chunk.js","sourcesContent":["export class RedBowlResponse {\r\n\r\n    constructor(date: Date, firstname: string, lastname: string, email: string) {\r\n        this.date = date;\r\n        this.firstname = firstname;\r\n        this.lastname = lastname;\r\n        this.email = email;\r\n    }\r\n\r\n    date: Date;\r\n    firstname: string;\r\n    lastname: string;\r\n    email: string;\r\n};","import React, { useEffect, useState } from 'react';\nimport { GoogleSpreadsheet } from 'google-spreadsheet';\nimport { RedBowlResponse } from './Models/Reponse';\nimport { Col, Row } from 'antd';\nimport styled from 'styled-components';\n\nconst dedupeResponses = (responses: RedBowlResponse[]): RedBowlResponse[] => {\n\tconst dedupedResponses: RedBowlResponse[] = [];\n\n\tfor (const response of responses) {\n\t\tconst existingResponse = dedupedResponses.find((r) => {\n\t\t\treturn r.email === response.email;\n\t\t});\n\n\t\tif (!existingResponse) {\n\t\t\tdedupedResponses.push(response);\n\t\t}\n\t}\n\n\treturn dedupedResponses;\n};\n\nconst CenteredCol = styled(Col)`\n\ttext-align: center;\n`;\n\nfunction App() {\n\n\tconst [doc, setDoc] = useState<GoogleSpreadsheet>();\n\tconst [responses, setResponses] = useState<RedBowlResponse[]>([]);\n\tconst [winnerIndex, setWinnerIndex] = useState<number>(-1);\n\n\tuseEffect(() => {\n\t\tsetDoc(new GoogleSpreadsheet('1OEry52CfvOobIL9hjQGPOCl0ncIMF_KHrtY4glougLE'));\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (doc) {\n\t\t\tdoc.useApiKey(\"AIzaSyCOrD6IBVG0UHiFANoaHMStiZXN8bYsqV8\");\n\n\t\t\tdoc.loadInfo()\n\t\t\t\t.then((response) => {\n\t\t\t\t\tconst sheet = doc?.sheetsByIndex[0];\n\t\t\t\t\tsheet?.getRows()\n\t\t\t\t\t\t.then((rows) => {\n\t\t\t\t\t\t\tconst parsedResponses = rows.map((r) => {\n\t\t\t\t\t\t\t\tconst date = r._rawData[0];\n\t\t\t\t\t\t\t\tconst firstname = r._rawData[1];\n\t\t\t\t\t\t\t\tconst lastname = r._rawData[2];\n\t\t\t\t\t\t\t\tconst email = r._rawData[3];\n\t\t\t\t\t\t\t\tconst returnResponse = new RedBowlResponse(date, firstname, lastname, email);\n\n\t\t\t\t\t\t\t\treturn returnResponse;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tconst deduped = dedupeResponses(parsedResponses);\n\t\t\t\t\t\t\tsetResponses(deduped);\n\t\t\t\t\t\t}).catch((error) => {\n\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t});\n\t\t\t\t}).catch((error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t}\n\t}, [doc]);\n\n\tconst generateRandomNumber = () => {\n\t\tconst randomIndex = Math.floor(Math.random() * responses.length);\n\t\tconsole.log(randomIndex);\n\t\tsetWinnerIndex(randomIndex);\n\t}\n\n\tconst responseList = responses?.map((response) => {\n\t\treturn <li key={response.email}>\n\t\t\t{response.email};\n\t\t</li>\n\t});\n\n\tconst winner = winnerIndex !== -1 ? responses[winnerIndex] : null;\n\tconst winnerName = `${winner?.firstname} ${winner?.lastname}`;\n\tconst winnerEmail = `${winner?.email}`;\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Row>\n\t\t\t\t<CenteredCol span={24}>\n\t\t\t\t\t{\n\t\t\t\t\t\tresponses?.length > 0 &&\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={generateRandomNumber}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: \"50%\",\n\t\t\t\t\t\t\t\theight: \"5em\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tRandomly select winner\n\t\t\t\t\t\t</button>\n\t\t\t\t\t}\n\t\t\t\t</CenteredCol>\n\t\t\t</Row>\n\t\t\t{\n\t\t\t\twinner &&\n\t\t\t\t<>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<CenteredCol span={24}>\n\t\t\t\t\t\t\t<h1>Winner:</h1>\n\t\t\t\t\t\t</CenteredCol>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<CenteredCol span={24}>\n\t\t\t\t\t\t\t<h1>{`${winnerName}, ${winnerEmail}`}</h1>\n\t\t\t\t\t\t</CenteredCol>\n\t\t\t\t\t</Row>\n\t\t\t\t</>\n\t\t\t}\n\t\t\t<Row>\n\t\t\t\t<Col span={24}>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{responseList}\n\t\t\t\t\t</ol>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);"],"sourceRoot":""}